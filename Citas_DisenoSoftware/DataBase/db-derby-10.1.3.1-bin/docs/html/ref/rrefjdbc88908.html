<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="JDBC escape syntax for fn keyword" />
<meta content="fn (JDBC escape keyword), substring (JDBC scalar function), mod (JDBC scalar function), locate (JDBC scalar function), abs (JDBC scalar function), sqrt (JDBC scalar function), concat (JDBC scalar function), TIMESTAMPADD function, TIMESTAMPDIFF function" name="DC.subject" />
<meta content="fn (JDBC escape keyword), substring (JDBC scalar function), mod (JDBC scalar function), locate (JDBC scalar function), abs (JDBC scalar function), sqrt (JDBC scalar function), concat (JDBC scalar function), TIMESTAMPADD function, TIMESTAMPDIFF function" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc1020262.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc70824.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc27768.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc28456.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc37244.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc12124.html" />
<meta scheme="URI" name="DC.Relation" content="rrefjdbc41784.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefjdbc88908" name="DC.Identifier" />
<meta content="en-us" name="DC.Language" />
<link href="commonltr.css" type="text/css" rel="stylesheet" />
<title>JDBC escape syntax for fn keyword</title>
</head>
<body id="rrefjdbc88908"><a name="rrefjdbc88908"><!-- --></a>


<h1 class="topictitle1">JDBC escape syntax for fn keyword</h1>


<div>
<div class="section"> <p>The fn keyword allows the use of several scalar functions. The
function name follows the keyword fn.</p>
</div>

<div class="section"><h4 class="sectiontitle">Syntax</h4><pre><strong>{fn <em>functionCall</em>}</strong></pre>
<p>where <em>functionCall</em> is
one of the following functions:</p>
<pre><strong>concat (<strong><em>CharacterExpression</em></strong>, <strong><em>CharacterExpression</em></strong>)</strong></pre>
<p>Character
string formed by appending the second string to the first; if either string
is null, the result is NULL. {fn concat (<em>CharacterExpression</em>, <em>CharacterExpression</em>)
is equivalent to built-in syntax { CharacterExpression || CharacterExpression
}. For more details, see <a href="rrefsqlj40899.html#rrefsqlj40899">Concatenation</a>.</p>
<pre><strong><em>sqrt (<strong><em>FloatingPointExpression</em></strong>)</em></strong></pre>
<p>Square root of floating point number.</p>
<p>{fn sqrt (<em>FloatingPointExpression</em>)}
is equivalent to built-in syntax  <a href="rrefsqlj73147.html#rrefsqlj73147__i1195048">SQRT(FloatingPointExpression)</a>.
For more details see <a href="rrefsqlj73147.html#rrefsqlj73147">SQRT</a>.</p>
<pre><strong>abs (<strong><em>NumericExpression</em></strong>)</strong></pre>
<p>Absolute value of number. {fn abs(<em>NumericExpression</em>)} is equivalent
to built-in syntax <a href="rrefsqlj98067.html#rrefsqlj98067__i1195049">ABSOLUTE(NumericExpression)</a>.
For more details see <a href="rrefsqlj98067.html#rrefsqlj98067">ABS or ABSVAL</a>.</p>
<pre><strong>locate(<strong><em>CharacterExpression</em></strong>,<strong><em>CharacterExpression</em></strong> [, <strong><em>startIndex</em></strong>] )</strong></pre>
<p>Position in the second <em>CharacterExpression</em> of
the first occurrence of the first <em>CharacterExpression</em>, searching from
the beginning of the second character expression, unless <em>startIndex</em> is
specified. {fn locate(<em>CharacterExpression</em>,<em>CharacterExpression</em> [, <em>startIndex</em>]
)} is equivalent to the built-in syntax <a href="rrefsqlj61998.html#rrefsqlj61998__i1195050">LOCATE(CharacterExpression,
CharacterExpression [, StartPosition] )</a>. For more details see <a href="rrefsqlj61998.html#rrefsqlj61998">LOCATE</a>.</p>
<pre><strong>substring(<strong><em>CharacterExpression</em></strong>, <strong><em>startIndex</em></strong>, <strong><em>length</em></strong>)</strong></pre>
<p>A character string formed by extracting <em>length</em> characters
from the CharacterExpression beginning at <em>startIndex</em>; the index starts
with 1.</p>
<pre><strong>mod(<strong><em>integer_type</em></strong>, <strong><em>integer_type</em></strong>)</strong></pre>
<p>MOD
returns the remainder (modulus) of argument 1 divided by argument 2. The result
is negative only if argument 1 is negative. For more details, see <a href="rrefsqljmod.html#rrefsqljmod">MOD</a>.</p>
<div class="note"><span class="notetitle">Note: </span>Any <span>Derby</span> built-in function is
allowed in this syntax, not just those listed in this section.</div>
<pre><strong>TIMESTAMPADD( <em>interval</em>, <em>integerExpression</em>, <em>timestampExpression</em> )</strong></pre>
<p>Use the <samp class="codeph">TIMESTAMPADD</samp> function to add
the value of an interval to a timestamp. The function applies the integer
to the specified timestamp based on the interval type and returns the sum
as a new timestamp. You can subtract from the timestamp by using negative
integers.</p>
<p>Note that <samp class="codeph">TIMESTAMPADD</samp> is a JDBC escaped
function, and is only accessible using the JDBC escape function syntax.</p>
<p>To
perform <samp class="codeph">TIMESTAMPADD</samp> on dates and times, it is necessary
to convert them to timestamps. Dates are converted to timestamps by putting
00:00:00.0 in the time-of-day fields. Times are converted to timestamps by
putting the current date in the date fields.</p>
<p>Note that you should not
put a datetime column inside a timestamp arithmetic function in WHERE clauses
because the optimizer will not use any index on the column.</p>
<pre><strong>TIMESTAMPDIFF( interval, timestampExpression1, timestampExpression2 )</strong></pre>
<p>Use the <samp class="codeph">TIMESTAMPDIFF</samp> function to find the
difference between two timestamp values at a specified interval. For example,
the function can return the number of minutes between two specified timestamps.</p>
<p>Note
that <samp class="codeph">TIMESTAMPDIFF</samp> is a JDBC escaped function, and is only
accessible using the JDBC escape function syntax.</p>
<p>To perform <samp class="codeph">TIMESTAMPDIFF</samp> on
dates and times, it is necessary to convert them to timestamps. Dates are
converted to timestamps by putting 00:00:00.0 in the time-of-day fields. Times
are converted to timestamps by putting the current date in the date fields.</p>
<p>Note
that you should not put a datetime column inside a timestamp arithmetic function
in WHERE clauses because the optimizer will not use any index on the column.</p>
</div>

<div class="section"><h4 class="sectiontitle">Valid intervals for TIMESTAMPADD and TIMESTAMPDIFF</h4>The <samp class="codeph">TIMESTAMPADD</samp> and <samp class="codeph">TIMESTAMPDIFF</samp> functions
can be used to perform arithmetic with timestamps. These two functions use
the following valid intervals for arithmetic operations:<ul>
<li>SQL_TSI_DAY</li>

<li>SQL_TSI_FRAC_SECOND</li>

<li>SQL_TSI_HOUR</li>

<li>SQL_TSI_MINUTE</li>

<li>SQL_TSI_MONTH</li>

<li>SQL_TSI_QUARTER</li>

<li>SQL_TSI_SECOND</li>

<li>SQL_TSI_WEEK</li>

<li>SQL_TSI_YEAR</li>

</ul>
</div>

<div class="example"><h4 class="sectiontitle">Examples of TIMESTAMPADD and TIMESTAMPDIFF</h4><pre><strong>{fn TIMESTAMPADD( SQL_TSI_MONTH, 1, CURRENT_TIMESTAMP)}</strong></pre>
<p>Returns a timestamp value one month later than the current timestamp.</p>
<pre><strong>{fn TIMESTAMPDIFF(SQL_TSI_WEEK, CURRENT_TIMESTAMP, 
  timestamp('2001-01-01-12.00.00.000000'))}</strong></pre>
<p>Returns the number of weeks between now and the specified
time on January 1, 2001.</p>
</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="rrefjdbc1020262.html" title="">JDBC escape syntax</a></div>
</div>
<div class="relref"><strong>Related reference</strong><br />
<div><a href="rrefjdbc70824.html" title="">JDBC escape keyword for call statements</a></div>
<div><a href="rrefjdbc27768.html" title="">JDBC escape syntax</a></div>
<div><a href="rrefjdbc28456.html" title="">JDBC escape syntax for LIKE clauses</a></div>
<div><a href="rrefjdbc37244.html" title="">JDBC escape syntax for outer joins</a></div>
<div><a href="rrefjdbc12124.html" title="">JDBC espace syntax for time formats</a></div>
<div><a href="rrefjdbc41784.html" title="">JDBC escape syntax for timestamp formats</a></div>
</div>
</div>
</body>
</html>