<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="UPDATE statement" />
<meta content="UPDATE statement" name="DC.subject" />
<meta content="UPDATE statement" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj39374.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj22771.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj81859.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj95081.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj80721.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqljrenamestatements.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj35312.html" />
<meta scheme="URI" name="DC.Relation" content="rrefcallprocedure.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj13590.html" />
<meta scheme="URI" name="DC.Relation" content="rrefdeclaretemptable.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj35981.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj31783.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj21583.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj32654.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj14854.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj35034.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj40774.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj29840.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj18922.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj40506.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj13658.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj21571.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj57522.html" />
<meta scheme="URI" name="DC.Relation" content="rrefscalarsubquery.html" />
<meta scheme="URI" name="DC.Relation" content="rrefselectexpression.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj41360.html" />
<meta scheme="URI" name="DC.Relation" content="rreftableexpression.html" />
<meta scheme="URI" name="DC.Relation" content="rreftablesubquery.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj11277.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj33602.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj15309.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj76354.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefsqlj26498" name="DC.Identifier" />
<meta content="en-us" name="DC.Language" />
<link href="commonltr.css" type="text/css" rel="stylesheet" />
<title>UPDATE statement</title>
</head>
<body id="rrefsqlj26498"><a name="rrefsqlj26498"><!-- --></a>


<h1 class="topictitle1">UPDATE statement</h1>


<div>
<div class="section"> <p>An UPDATE statement sets the value in a column.</p>
 <p>You can
update the current row of an open, updatable cursor. If there is no current
row, or if the current row no longer satisfies the cursor's query, an exception
is raised.</p>
</div>

<div class="section"><h4 class="sectiontitle">Syntax</h4> <pre><strong>{
    UPDATE <em><a href="rreftablename.html#rreftablename">table-Name</a></em>
        SET <em><a href="rrefcolumnname.html#rrefcolumnname">column-Name</a></em> = <em><a href="rrefsqlj76354.html#rrefsqlj76354">Value</a></em>
        [ , <em><a href="rrefcolumnname.html#rrefcolumnname">column-Name</a></em> = <em><a href="rrefsqlj76354.html#rrefsqlj76354">Value</a></em>} ]*
        [<em><a href="rrefsqlj33602.html#rrefsqlj33602">WHERE clause</a></em>] |
    UPDATE <em><a href="rreftablename.html#rreftablename">table-Name</a></em>
        SET <em><a href="rrefcolumnname.html#rrefcolumnname">column-Name</a></em> = <em><a href="rrefsqlj76354.html#rrefsqlj76354">Value</a></em>
        [ , <em><a href="rrefcolumnname.html#rrefcolumnname">column-Name</a></em> = <em><a href="rrefsqlj76354.html#rrefsqlj76354">Value</a></em> ]*
        <em><a href="rrefsqlj15309.html#rrefsqlj15309">WHERE CURRENT OF</a></em>
}</strong></pre>
 <p>The first syntactical form is called a searched update.
The second syntactical form is called a positioned update.</p>
 <p>For searched
updates, you update all rows of the table for which the WHERE clause evaluates
to TRUE.</p>
 <p>For positioned updates, you can update only columns that were
included in the <a href="rrefsqlj31783.html#rrefsqlj31783">FOR UPDATE clause</a> of the SELECT
statement that created the cursor. If the SELECT statement did not include
a FOR UPDATE clause, the cursor is read-only and cannot be used to update.</p>
 <p>Specifying
DEFAULT for the update value sets the value of the column to the default defined
for that table.</p>
 </div>

<div class="example"> <pre><strong><span>-- All the employees except the manager of department (WORKDEPT) 'E21' have 
been temporarily reassigned. 
-- Indicate this by changing their job (JOB) to NULL and their pay
-- (SALARY, BONUS, COMM) values to zero in the EMPLOYEE table.</span> 
UPDATE EMPLOYEE
  SET JOB=NULL, SALARY=0, BONUS=0, COMM=0
  WHERE WORKDEPT = 'E21' AND JOB &lt;&gt; 'MANAGER'

-- PROMOTE the job (JOB) of certain employees to MANAGER
UPDATE EMPLOYEE
	SET JOB = 'MANAGER'
	WHERE CURRENT OF CURS1;
<span>-- Increase the project staffing (PRSTAFF) by 1.5 for all projects</span>
stmt.executeUpdate("UPDATE PROJECT SET PRSTAFF = "
"PRSTAFF + 1.5" +
"WHERE CURRENT OF" + ResultSet.getCursorName());

<span>-- Change the job (JOB) of employee number (EMPNO) '000290' in the EMPLOYEE table 
-- to its DEFAULT value which is NULL</span>
UPDATE EMPLOYEE
  SET JOB = DEFAULT
  WHERE EMPNO = '000290';
</strong></pre>
 </div>

<div class="section"><h4 class="sectiontitle">Statement dependency system</h4> <p>A searched
update statement depends on the table being updated, all of its conglomerates
(units of storage such as heaps or indexes), all of its constraints, and any
other table named in the WHERE clause or SET expressions. A CREATE or DROP
INDEX statement or an ALTER TABLE statement for the target table of a prepared
searched update statement invalidates the prepared searched update statement.</p>
 <p>The
positioned update statement depends on the cursor and any tables the cursor
references. You can compile a positioned update even if the cursor has not
been opened yet. However, removing the open cursor with the JDBC <em>close</em> method
invalidates the positioned update.</p>
 <p>A CREATE or DROP INDEX statement
or an ALTER TABLE statement for the target table of a prepared positioned
update invalidates the prepared positioned update statement.</p>
 <p>Dropping
an alias invalidates a prepared update statement if the latter statement uses
the alias.</p>
 <p>Dropping or adding triggers on the target table of the update
invalidates the update statement.</p>
 </div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rrefsqlj76354.html">Value</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="crefsqlj39374.html" title="">Statements</a></div>
</div>
<div class="relconcepts"><strong>Related concepts</strong><br />
<div><a href="crefsqlj22771.html" title="">Interaction with the dependency system</a></div>
<div><a href="crefsqlj95081.html" title="">CREATE statements</a></div>
<div><a href="crefsqlj80721.html" title="">DROP Statements</a></div>
<div><a href="crefsqljrenamestatements.html" title="">RENAME statements</a></div>
<div><a href="crefsqlj35312.html" title="">SET statements</a></div>
</div>
<div class="relref"><strong>Related reference</strong><br />
<div><a href="rrefsqlj81859.html" title="">ALTER TABLE statement</a></div>
<div><a href="rrefcallprocedure.html" title="">CALL (PROCEDURE)</a></div>
<div><a href="rrefsqlj13590.html" title="">CONSTRAINT clause</a></div>
<div><a href="rrefdeclaretemptable.html" title="">DECLARE GLOBAL TEMPORARY TABLE statement</a></div>
<div><a href="rrefsqlj35981.html" title="">DELETE statement</a></div>
<div><a href="rrefsqlj31783.html" title="">FOR UPDATE clause</a></div>
<div><a href="rrefsqlj21583.html" title="">FROM clause</a></div>
<div><a href="rrefsqlj32654.html" title="">GROUP BY clause</a></div>
<div><a href="rrefsqlj14854.html" title="">HAVING clause</a></div>
<div><a href="rrefsqlj35034.html" title="">INNER JOIN</a></div>
<div><a href="rrefsqlj40774.html" title="">INSERT statement</a></div>
<div><a href="rrefsqlj29840.html" title="">JOIN operation</a></div>
<div><a href="rrefsqlj18922.html" title="">LEFT OUTER JOIN</a></div>
<div><a href="rrefsqlj40506.html" title="">LOCK TABLE statement</a></div>
<div><a href="rrefsqlj13658.html" title="">ORDER BY clause</a></div>
<div><a href="rrefsqlj21571.html" title="">Query</a></div>
<div><a href="rrefsqlj57522.html" title="">RIGHT OUTER JOIN</a></div>
<div><a href="rrefscalarsubquery.html" title="">ScalarSubquery</a></div>
<div><a href="rrefselectexpression.html" title="">SelectExpression</a></div>
<div><a href="rrefsqlj41360.html" title="">SELECT statement</a></div>
<div><a href="rreftableexpression.html" title="">TableExpression</a></div>
<div><a href="rreftablesubquery.html" title="">TableSubquery</a></div>
<div><a href="rrefsqlj11277.html" title="">VALUES expression</a></div>
<div><a href="rrefsqlj33602.html" title="">WHERE clause</a></div>
<div><a href="rrefsqlj15309.html" title="">WHERE CURRENT OF clause</a></div>
</div>
</div>
</body>
</html>